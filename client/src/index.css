@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* header height for offsets */
  --header-height: 60px;

  /* color palette */
  --black: hsl(0, 0%, 0%);
  --white: hsl(0, 0%, 100%);
  --loop-green: hsl(151, 97%, 46%);

  /* swatches for overlays */
  --swatch-1: hsla(0, 0%, 100%, 0.85);
  --swatch-2: hsla(0, 0%, 100%, 0.75);
  --swatch-3: hsla(0, 0%, 100%, 0.6);

  /* font sizes */
  --font-base: 0.55rem;
  --font-base-mobile: 1.75rem;

  /* shadcn variables */
  --background: hsl(0, 0%, 100%);
  --foreground: hsl(20, 14.3%, 4.1%);
  --muted: hsl(60, 4.8%, 95.9%);
  --muted-foreground: hsl(25, 5.3%, 44.7%);
  --popover: hsl(0, 0%, 100%);
  --popover-foreground: hsl(20, 14.3%, 4.1%);
  --card: hsl(0, 0%, 100%);
  --card-foreground: hsl(20, 14.3%, 4.1%);
  --border: hsl(20, 5.9%, 90%);
  --input: hsl(20, 5.9%, 90%);
  --primary: hsl(207, 90%, 54%);
  --primary-foreground: hsl(211, 100%, 99%);
  --secondary: hsl(60, 4.8%, 95.9%);
  --secondary-foreground: hsl(24, 9.8%, 10%);
  --accent: hsl(60, 4.8%, 95.9%);
  --accent-foreground: hsl(24, 9.8%, 10%);
  --destructive: hsl(0, 84.2%, 60.2%);
  --destructive-foreground: hsl(60, 9.1%, 97.8%);
  --ring: hsl(20, 14.3%, 4.1%);
  --radius: 0.5rem;
}

.dark {
  --background: hsl(240, 10%, 3.9%);
  --foreground: hsl(0, 0%, 98%);
  --muted: hsl(240, 3.7%, 15.9%);
  --muted-foreground: hsl(240, 5%, 64.9%);
  --popover: hsl(240, 10%, 3.9%);
  --popover-foreground: hsl(0, 0%, 98%);
  --card: hsl(240, 10%, 3.9%);
  --card-foreground: hsl(0, 0%, 98%);
  --border: hsl(240, 3.7%, 15.9%);
  --input: hsl(240, 3.7%, 15.9%);
  --primary: hsl(207, 90%, 54%);
  --primary-foreground: hsl(211, 100%, 99%);
  --secondary: hsl(240, 3.7%, 15.9%);
  --secondary-foreground: hsl(0, 0%, 98%);
  --accent: hsl(240, 3.7%, 15.9%);
  --accent-foreground: hsl(0, 0%, 98%);
  --destructive: hsl(0, 62.8%, 30.6%);
  --destructive-foreground: hsl(0, 0%, 98%);
  --ring: hsl(240, 4.9%, 83.9%);
  --radius: 0.5rem;
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply font-sans antialiased;
  }
}

/* Reset & prevent horizontal scroll */
*, *::before, *::after { 
  box-sizing: border-box; 
}

html, body { 
  margin: 0; 
  padding: 0; 
  overflow-x: hidden; 
  background: var(--black); 
}

/* Base typography */
body {
  font-family: "Diatype Variable", sans-serif;
  font-size: var(--font-base);
  color: var(--swatch-1);
  line-height: 1;
}

@media (max-width: 768px) {
  body { font-size: var(--font-base-mobile); }
}

/* Utility classes */
.small-caps { 
  font-variant: small-caps; 
  text-transform: lowercase; 
}

.highlight { 
  color: var(--loop-green); 
}

/* Link reset */
a { 
  text-decoration: none; 
  color: inherit; 
}

/* Headers */
h1, h2 { 
  margin: 0; 
  font-variation-settings: 'slnt' 0, 'MONO' 0; 
}

h1 { 
  font-size: 4.5rem; 
  line-height: 1; 
}

h2 { 
  font-size: 3.8rem; 
  line-height: 1.1; 
}

/* Prevent text selection during animation */
.animation-container, .pulsing-lines, .gradient-sphere { 
  user-select: none; 
}

/* Header Styles */
.site-header {
  position: sticky;
  top: 0;
  width: 100%;
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0.5rem 1rem;
  background: hsla(0, 0%, 0%, 0.0);
  backdrop-filter: blur(20px);
}

/* Logo */
.site-header .logo img {
  width: 58px;
  height: auto;
}

/* Nav buttons */
.nav-links {
  display: flex;
  gap: 0.5rem;
}

.btn {
  padding: 0.6rem 1rem;
  background: var(--black);
  color: var(--white);
  border: 1px solid var(--white);
  border-radius: 20px;
  font-weight: bold;
  font-size: 1rem;
  transition: 0.3s;
}

.btn:hover {
  background: var(--white);
  color: var(--black);
  transform: scale(1.05);
}

/* Mobile */
@media (max-width: 768px) {
  .site-header {
    padding: 1rem;
  }
  
  .logo img { 
    width: 40px; 
  }
  
  .nav-links {
    flex-direction: column;
    gap: 1.6rem;
  }
  
  .btn {
    font-size: 2.2rem;
    padding: 1.5rem 2rem;
    border-width: 0.3px;
  }
}

/* Hero Loop Styles */
.hero-loop {
  position: relative;
  top: var(--header-height);
  height: calc(100vh - var(--header-height));
  overflow: hidden;
  pointer-events: none;
  background: var(--black);
}

.hero-loop-content {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  padding: 0 2.2rem;
  position: relative;
}

.scroll {
  font-family: "Monument Grotesk Variable", sans-serif;
  font-size: 3.5rem;
  line-height: 1;
  color: var(--swatch-1);
  position: absolute;
  right: 8%;
  top: 50%;
  transform: translateY(-50%);
}

@media (max-width: 768px) {
  .scroll { 
    font-size: 2.5rem;
    right: 5%;
  }
}

/* Page Hero Styles */
.page-hero {
  position: relative;
  margin-bottom: -150px;   /* lifts next content under */
  min-height: 80vh;
}

@media (max-width: 768px) {
  .page-hero { 
    margin-bottom: 0; 
    min-height: 63vh; 
  }
}

/* Animation container */
.animation-container {
  position: fixed;
  top: 50%; 
  left: 50%;
  transform: translate(-50%, -50%);
  width: 450px; 
  height: 450px;
  pointer-events: none;
  z-index: 0;
}

@media (max-width: 768px) {
  .animation-container { 
    width: 340px; 
    height: 340px; 
  }
}

/* Gradient sphere */
.gradient-sphere {
  position: absolute;
  width: 450px; 
  height: 450px;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, #ff6ec7, #ffc700, #1e90ff, #ff6ec7);
  box-shadow: 0 0 30px hsla(0, 0%, 100%, 0.03),
              0 0 60px hsla(0, 0%, 100%, 0.3),
              0 0 90px hsla(0, 0%, 100%, 0.1);
  animation: spin-globe 8s linear infinite;
  opacity: 0; 
  transition: opacity 0.5s;
}

.gradient-sphere::before {
  content: ''; 
  position: absolute; 
  inset: 0;
  border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, #02ea98, #357784 70%);
}

.gradient-sphere::after {
  content: ''; 
  position: absolute; 
  inset: 0;
  border-radius: 50%;
  background: radial-gradient(circle at 70% 70%, #048041, transparent 70%);
}

@keyframes spin-globe {
  from { transform: rotate(90deg); }
  to   { transform: rotate(450deg); }
}

@media (max-width: 768px) {
  .gradient-sphere { 
    width: 150px; 
    height: 150px; 
  }
}

/* Pulsing lines */
.pulsing {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  border-radius: 50%;
  border: 2px solid hsla(0, 0%, 100%, 0.46);
  animation: pulse 6.5s infinite;
  opacity: 0;
}

.pulsing.line-2 { 
  animation-delay: 1s; 
}

.pulsing.line-3 { 
  animation-delay: 2s; 
}

@keyframes pulse {
  0%   { width: 460px; height: 460px; opacity: 1; transform: translate(-50%, -50%); }
  50%  { width: 100vw; height: 100vw; opacity: 0.3; transform: translate(-50%, -50%); }
  100% { width: 115vw; height: 115vw; opacity: 0.1; transform: translate(-50%, -50%); }
}

@media (max-width: 768px) {
  .pulsing { 
    border-width: 1.3px; 
    animation-name: pulse-mobile; 
  }
}

@keyframes pulse-mobile {
  0%   { width: 150px; height: 150px; opacity: 1; transform: translate(-50%, -50%); }
  50%  { width: 100vw; height: 100vw; opacity: 0.3; transform: translate(-50%, -50%); }
  100% { width: 115vw; height: 115vw; opacity: 0.1; transform: translate(-50%, -50%); }
}

/* Headline text */
.hero-text {
  position: relative; 
  z-index: 1;
  padding: 0.4rem; 
  color: var(--white);
  opacity: 0; 
  animation: fadeInText 2s ease-in-out forwards;
}

@keyframes fadeInText { 
  to { opacity: 1; } 
}

.headline {
  font-size: 7rem; 
  line-height: .9;
  filter: drop-shadow(0.1rem 0.1rem 0.64rem hsla(0, 0%, 100%, 0.71));
}

@media (max-width: 768px) {
  .headline {
    font-size: 8rem; 
    line-height: .2;
    margin-top: 10px; 
    margin-left: 6px;
  }
}

/* Chatbox Styles */
.chat-container {
  position: absolute;
  top: calc(50% + 225px);   /* adjust 225px to sit under orb */
  left: 50%; 
  transform: translateX(-50%);
  width: min(90vw, 400px); 
  max-height: 500px;
  display: flex; 
  flex-direction: column;
  backdrop-filter: blur(20px);
  background: hsla(0, 0%, 100%, 0.1);
  border: 1px solid hsla(0, 0%, 100%, 0.25);
  border-radius: 16px; 
  overflow: hidden;
  box-shadow: 0 8px 32px hsla(0, 0%, 0%, 0.2);
  z-index: 1;
}

.chat-header {
  padding: 0.75rem 1rem; 
  border-bottom: 1px solid hsla(0, 0%, 100%, 0.2);
  color: #fff; 
  font-weight: bold;
}

.chat-messages {
  flex: 1; 
  padding: 1rem; 
  overflow-y: auto; 
  color: #ececec; 
  font-size: 0.9rem;
  min-height: 200px;
}

.chat-input {
  display: flex; 
  border-top: 1px solid hsla(0, 0%, 100%, 0.2);
}

.chat-input input {
  flex: 1; 
  padding: 0.75rem 1rem; 
  border: none; 
  background: transparent;
  color: #fff; 
  font-size: 1rem; 
  outline: none;
}

.chat-input input::placeholder {
  color: hsla(0, 0%, 100%, 0.6);
}

.chat-input button {
  padding: 0.75rem 1rem; 
  border: none; 
  background: var(--loop-green);
  color: #000; 
  font-weight: bold; 
  cursor: pointer; 
  transition: transform 0.2s;
}

.chat-input button:active { 
  transform: scale(0.95); 
}

.message {
  margin-bottom: 1rem;
  padding: 0.5rem;
}

.user-message {
  text-align: right;
  color: var(--loop-green);
}

.bot-message {
  text-align: left;
  color: #ececec;
}

/* Footer Styles */
.site-footer {
  background: var(--black);
  color: var(--white);
  text-align: center;
  padding: 2rem 1rem;
  font-family: Arial, sans-serif;
  font-size: 0.9rem;
  position: relative;
  width: 100%;
}

.site-footer a {
  color: var(--loop-green);
  font-weight: bold;
  transition: color 0.3s, transform 0.3s;
}

.site-footer a:hover {
  color: var(--white);
  transform: scale(1.1);
}

.brand-name {
  color: var(--loop-green);
  text-transform: uppercase;
  font-weight: bold;
}

/* Loading Animation for Chat */
.loading {
  display: inline-block;
  width: 20px;
  height: 20px;
  border: 3px solid hsla(0, 0%, 100%, 0.3);
  border-radius: 50%;
  border-top-color: var(--loop-green);
  animation: spin 1s ease-in-out infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* Optional: animated starfield in .footer-stars */
.footer-stars { 
  position: absolute; 
  inset: 0; 
}
